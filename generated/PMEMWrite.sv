// Generated by CIRCT firtool-1.114.1
module PMEMWrite(
  input         clock,
  input         wen,
  input  [31:0] waddr,
  input  [31:0] wdata,
  input  [3:0]  wmask
);

  // DPI-C 函数声明
  import "DPI-C" function void pmem_write(
    input int waddr,
    input int wdata,
    input byte wmask
  );

  // 在时钟上升沿且写使能有效时，调用 DPI-C 函数
  always @(posedge clock) begin
    if (wen) begin
      pmem_write({waddr[31:2], 2'b00}, wdata, {4'b0, wmask});
    end
  end

endmodule